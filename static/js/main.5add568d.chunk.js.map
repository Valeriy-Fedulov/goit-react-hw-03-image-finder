{"version":3,"sources":["components/searchbar/Searchbar.js","components/imagegalleryitem/ImageGalleryItem.js","components/button/Button.js","components/loader/Loader.js","components/modal/Modal.js","components/imagegallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","image","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","arcticles","toggleModal","map","id","webformatURL","largeImageURL","src","alt","onClick","Button","onClickLMore","Loading","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","largeImage","ImageGallery","loading","showModal","dataset","largeimage","prevState","fetchApi","prevProps","page","query","setTimeout","axios","get","then","response","data","hits","concat","scrollDown","catch","scrollTo","top","innerHeight","scrollY","behavior","length","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"2SAGMA,E,4MACJC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAACC,GACd,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,S,EAGzCC,aAAe,SAACJ,GACdA,EAAEK,iBAE8B,KAA5B,EAAKR,MAAMC,MAAMQ,QAIrB,EAAKC,MAAMC,SAAS,EAAKX,MAAMC,MAAO,GACtC,EAAKG,SAAS,CAAEH,MAAO,MAJrBW,IAAMC,MAAM,gG,4CAOhB,WACE,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaH,SAAUI,KAAKR,aAA5C,UACE,wBAAQS,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAEF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZb,MAAOS,KAAKf,MAAMC,MAClBmB,SAAUL,KAAKb,wB,GAlCHmB,IAAMC,W,iBCDxBC,EAAmB,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YACrC,OACE,mCACGD,EAAUE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAArB,OACb,oBAAaf,UAAU,mBAAvB,SACE,qBACEA,UAAU,yBACVgB,IAAKF,EACLG,IAAI,GACJ,kBAAiBF,EACjBG,QAASP,KANJE,SCJXM,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAH,OACb,wBAAQP,GAAG,WAAWb,UAAU,SAASE,KAAK,SAASgB,QAASE,EAAhE,wB,iBCAIC,EAAU,kBACd,cAAC,IAAD,CACErB,UAAU,SACVE,KAAK,OACLoB,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,OCPPC,EAAYC,SAASC,cAAc,eAEnCC,E,4MASJC,cAAgB,SAACzC,GACA,WAAXA,EAAE0C,MACJ,EAAKnC,MAAMoC,W,EAIfC,oBAAsB,SAAC5C,GACjBA,EAAEE,gBAAkBF,EAAE6C,QAAQ,EAAKtC,MAAMoC,W,uDAf/C,WACEG,OAAOC,iBAAiB,UAAWnC,KAAK6B,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWpC,KAAK6B,iB,oBAa7C,WACE,OAAOQ,uBACL,qBAAKtC,UAAU,UAAUkB,QAASjB,KAAKgC,oBAAvC,SACE,qBAAKjC,UAAU,QAAf,SACE,qBAAKgB,IAAKf,KAAKL,MAAM2C,WAAYtB,IAAI,SAGzCS,O,GA1BcnB,IAAMC,WCGpBgC,E,4MACJtD,MAAQ,CACNwB,UAAW,GACX6B,WAAY,GACZE,SAAS,EACT1C,MAAO,KACP2C,WAAW,G,EA0Cb/B,YAAc,SAACtB,GACR,EAAKH,MAAMwD,WACd,EAAKpD,SAAS,CAAEiD,WAAYlD,EAAE6C,OAAOS,QAAQC,aAC/C,EAAKtD,UAAS,SAACuD,GAAD,MAAgB,CAAEH,WAAYG,EAAUH,e,uDA1CxD,WACEzC,KAAK6C,a,gCAGP,SAAmBC,EAAWF,GAE1BE,EAAU5D,QAAUc,KAAKL,MAAMT,OAC/B4D,EAAUC,OAAS/C,KAAKL,MAAMoD,MAE9B/C,KAAK6C,SAAS7C,KAAKL,MAAMT,S,sBAI7B,WAAsB,IAAD,OAAZ8D,EAAY,uDAAJ,GACfhD,KAAKX,SAAS,CAAEmD,SAAS,IAEzBS,YAAW,WACTC,IACGC,IADH,qCAEkCH,EAFlC,iBAEgD,EAAKrD,MAAMoD,KAF3D,+FAIGK,MAAK,SAACC,GACmB,IAApB,EAAK1D,MAAMoD,KACb,EAAK1D,SAAS,CACZoB,UAAW4C,EAASC,KAAKC,KACzBf,SAAS,KAGX,EAAKnD,UAAS,SAACuD,GAAD,MAAgB,CAC5BnC,UAAWmC,EAAUnC,UAAU+C,OAAOH,EAASC,KAAKC,MACpDf,SAAS,MAEX,EAAKiB,iBAGRC,OAAM,SAAC5D,GAAD,OAAW,EAAKT,SAAS,CAAES,eACnC,O,wBASL,WACEoC,OAAOyB,SAAS,CACdC,IAAK1B,OAAO2B,YAAc3B,OAAO4B,QACjCC,SAAU,a,oBAId,WACE,OACE,qCACG/D,KAAKf,MAAMuD,SAAW,cAAC,EAAD,IACtBxC,KAAKf,MAAMwB,UAAUuD,OAAS,EAC7B,qCACE,oBAAIjE,UAAU,eAAd,SACE,cAAC,EAAD,CACEU,UAAWT,KAAKf,MAAMwB,UACtBC,YAAaV,KAAKU,gBAGtB,cAAC,EAAD,CACES,aAAcnB,KAAKL,MAAMwB,aACzBsC,WAAYzD,KAAKyD,iBAIpBzD,KAAKf,MAAMuD,SACV,qBAAKzC,UAAU,eAAf,SACE,iDAILC,KAAKf,MAAMwD,WACV,cAAC,EAAD,CACEV,QAAS/B,KAAKU,YACd4B,WAAYtC,KAAKf,MAAMqD,oB,GAxFRhC,IAAMC,WCC3B0D,G,kNACJhF,MAAQ,CACNC,MAAO,GACP6D,KAAM,G,EAGRnD,SAAW,SAACV,EAAO6D,GACjB,EAAK1D,SAAS,CAAEH,QAAO6D,U,EAGzB5B,aAAe,WACb,EAAK9B,UAAS,SAACuD,GAAD,MAAgB,CAAEG,KAAM,EAAK9D,MAAM8D,KAAO,O,4CAG1D,WACE,OACE,sBAAKhD,UAAU,MAAf,UACE,cAAC,EAAD,CAAWH,SAAUI,KAAKJ,WAC1B,cAAC,EAAD,CACEV,MAAOc,KAAKf,MAAMC,MAClB6D,KAAM/C,KAAKf,MAAM8D,KACjB5B,aAAcnB,KAAKmB,eAErB,cAAC,IAAD,CAAgB+C,UAAW,a,GAvBjB5D,IAAMC,YA6BT0D,IChCfE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3C,SAAS4C,eAAe,W","file":"static/js/main.5add568d.chunk.js","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends React.Component {\n  state = {\n    image: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ image: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.image.trim() === \"\") {\n      toast.error(\"Введите название\");\n      return;\n    }\n    this.props.onSubmit(this.state.image, 1);\n    this.setState({ image: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.image}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport { Searchbar };\n","import React from \"react\";\n\nconst ImageGalleryItem = ({ arcticles, toggleModal }) => {\n  return (\n    <>\n      {arcticles.map(({ id, webformatURL, largeImageURL }) => (\n        <li key={id} className=\"ImageGalleryItem\">\n          <img\n            className=\"ImageGalleryItem-image\"\n            src={webformatURL}\n            alt=\"\"\n            data-largeimage={largeImageURL}\n            onClick={toggleModal}\n          />\n        </li>\n      ))}\n    </>\n  );\n};\n\nexport { ImageGalleryItem };\n","import React from \"react\";\n\nconst Button = ({ onClickLMore }) => (\n  <button id=\"loadmore\" className=\"Button\" type=\"button\" onClick={onClickLMore}>\n    Load more\n  </button>\n);\n\nexport { Button };\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nconst Loading = () => (\n  <Loader\n    className=\"Loader\"\n    type=\"Puff\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport { Loading };\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.largeImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport { Modal };\n","import React from \"react\";\nimport axios from \"axios\";\n\nimport { ImageGalleryItem } from \"../imagegalleryitem\";\nimport { Button } from \"../button\";\nimport { Loading } from \"../loader\";\nimport { Modal } from \"../modal\";\n\nclass ImageGallery extends React.Component {\n  state = {\n    arcticles: [],\n    largeImage: \"\",\n    loading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidMount() {\n    this.fetchApi();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.image !== this.props.image ||\n      prevProps.page !== this.props.page\n    ) {\n      this.fetchApi(this.props.image);\n    }\n  }\n\n  fetchApi(query = \"\") {\n    this.setState({ loading: true });\n\n    setTimeout(() => {\n      axios\n        .get(\n          `https://pixabay.com/api/?q=${query}&page=${this.props.page}&key=8645843-73f0b565a99dd2126325d1c4b&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .then((response) => {\n          if (this.props.page === 1) {\n            this.setState({\n              arcticles: response.data.hits,\n              loading: false,\n            });\n          } else {\n            this.setState((prevState) => ({\n              arcticles: prevState.arcticles.concat(response.data.hits),\n              loading: false,\n            }));\n            this.scrollDown();\n          }\n        })\n        .catch((error) => this.setState({ error }));\n    }, 1000);\n  }\n\n  toggleModal = (e) => {\n    if (!this.state.showModal)\n      this.setState({ largeImage: e.target.dataset.largeimage });\n    this.setState((prevState) => ({ showModal: !prevState.showModal }));\n  };\n\n  scrollDown() {\n    window.scrollTo({\n      top: window.innerHeight + window.scrollY,\n      behavior: \"smooth\",\n    });\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.loading && <Loading />}\n        {this.state.arcticles.length > 0 ? (\n          <>\n            <ul className=\"ImageGallery\">\n              <ImageGalleryItem\n                arcticles={this.state.arcticles}\n                toggleModal={this.toggleModal}\n              />\n            </ul>\n            <Button\n              onClickLMore={this.props.onClickLMore}\n              scrollDown={this.scrollDown}\n            />\n          </>\n        ) : (\n          !this.state.loading && (\n            <div className=\"NothingFound\">\n              <h2>Nothing found</h2>\n            </div>\n          )\n        )}\n        {this.state.showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            largeImage={this.state.largeImage}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport { ImageGallery };\n","import React from \"react\";\nimport \"./App.css\";\n\nimport { Searchbar } from \"./components/searchbar\";\nimport { ImageGallery } from \"./components/imagegallery\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends React.Component {\n  state = {\n    image: \"\",\n    page: 1,\n  };\n\n  onSubmit = (image, page) => {\n    this.setState({ image, page });\n  };\n\n  onClickLMore = () => {\n    this.setState((prevState) => ({ page: this.state.page + 1 }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery\n          image={this.state.image}\n          page={this.state.page}\n          onClickLMore={this.onClickLMore}\n        />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}