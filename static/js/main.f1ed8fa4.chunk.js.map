{"version":3,"sources":["components/searchbar/Searchbar.js","services/api/api.js","components/imagegalleryitem/ImageGalleryItem.js","components/button/Button.js","components/loader/Loader.js","components/modal/Modal.js","components/imagegallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","image","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","type","autoComplete","autoFocus","placeholder","onChange","React","Component","api","fetchImage","query","page","axios","get","ImageGalleryItem","arcticles","toggleModal","map","id","webformatURL","largeImageURL","src","alt","onClick","Button","onClickLMore","Loading","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","largeImage","ImageGallery","loading","showModal","dataset","largeimage","prevState","fetchApi","prevProps","imageAPI","then","response","data","hits","concat","scrollDown","catch","scrollTo","top","innerHeight","scrollY","behavior","length","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f1ed8fa4.chunk.js","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends React.Component {\n  state = {\n    image: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ image: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    const { image } = this.state;\n\n    e.preventDefault();\n\n    if (image.trim() === \"\") {\n      toast.error(\"Введите название\");\n      return;\n    }\n    this.props.onSubmit(image, 1);\n    this.setState({ image: \"\" });\n  };\n\n  render() {\n    const { handleSubmit, handleChange } = this;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.image}\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport { Searchbar };\n","import axios from \"axios\";\n\nfunction fetchImage(query, page) {\n  return axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=8645843-73f0b565a99dd2126325d1c4b&image_type=photo&orientation=horizontal&per_page=12`\n  );\n}\n\nconst api = { fetchImage };\n\nexport default api;\n","import React from \"react\";\n\nconst ImageGalleryItem = ({ arcticles, toggleModal }) => {\n  return (\n    <>\n      {arcticles.map(({ id, webformatURL, largeImageURL }) => (\n        <li key={id} className=\"ImageGalleryItem\">\n          <img\n            className=\"ImageGalleryItem-image\"\n            src={webformatURL}\n            alt=\"\"\n            data-largeimage={largeImageURL}\n            onClick={toggleModal}\n          />\n        </li>\n      ))}\n    </>\n  );\n};\n\nexport { ImageGalleryItem };\n","import React from \"react\";\n\nconst Button = ({ onClickLMore }) => (\n  <button id=\"loadmore\" className=\"Button\" type=\"button\" onClick={onClickLMore}>\n    Load more\n  </button>\n);\n\nexport { Button };\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nconst Loading = () => (\n  <Loader\n    className=\"Loader\"\n    type=\"Puff\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport { Loading };\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.largeImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport { Modal };\n","import React from \"react\";\nimport imageAPI from \"../../services/api/api\";\n\nimport { ImageGalleryItem } from \"../imagegalleryitem\";\nimport { Button } from \"../button\";\nimport { Loading } from \"../loader\";\nimport { Modal } from \"../modal\";\n\nclass ImageGallery extends React.Component {\n  state = {\n    arcticles: [],\n    largeImage: \"\",\n    loading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidMount() {\n    this.fetchApi();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { image, page } = this.props;\n\n    if (prevProps.image !== image || prevProps.page !== page) {\n      this.fetchApi(image);\n    }\n  }\n\n  fetchApi(query = \"\") {\n    const { page } = this.props;\n\n    this.setState({ loading: true });\n\n    imageAPI\n      .fetchImage(query, page)\n      .then((response) => {\n        if (page === 1) {\n          this.setState({\n            arcticles: response.data.hits,\n            loading: false,\n          });\n        } else {\n          this.setState((prevState) => ({\n            arcticles: prevState.arcticles.concat(response.data.hits),\n            loading: false,\n          }));\n          this.scrollDown();\n        }\n      })\n      .catch((error) => this.setState({ error }));\n  }\n\n  toggleModal = (e) => {\n    if (!this.state.showModal)\n      this.setState({ largeImage: e.target.dataset.largeimage });\n    this.setState((prevState) => ({ showModal: !prevState.showModal }));\n  };\n\n  scrollDown() {\n    window.scrollTo({\n      top: window.innerHeight + window.scrollY,\n      behavior: \"smooth\",\n    });\n  }\n\n  render() {\n    const { loading, arcticles, showModal, largeImage } = this.state;\n    const { toggleModal, scrollDown } = this;\n    return (\n      <>\n        {loading && <Loading />}\n        {arcticles.length > 0 ? (\n          <>\n            <ul className=\"ImageGallery\">\n              <ImageGalleryItem\n                arcticles={arcticles}\n                toggleModal={toggleModal}\n              />\n            </ul>\n            <Button\n              onClickLMore={this.props.onClickLMore}\n              scrollDown={scrollDown}\n            />\n          </>\n        ) : (\n          !loading && (\n            <div className=\"NothingFound\">\n              <h2>Nothing found</h2>\n            </div>\n          )\n        )}\n        {showModal && <Modal onClose={toggleModal} largeImage={largeImage} />}\n      </>\n    );\n  }\n}\n\nexport { ImageGallery };\n","import React from \"react\";\nimport \"./App.css\";\n\nimport { Searchbar } from \"./components/searchbar\";\nimport { ImageGallery } from \"./components/imagegallery\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends React.Component {\n  state = {\n    image: \"\",\n    page: 1,\n  };\n\n  onSubmit = (image, page) => {\n    this.setState({ image, page });\n  };\n\n  onClickLMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  render() {\n    const { image, page } = this.state;\n    const { onSubmit, onClickLMore } = this;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={onSubmit} />\n        <ImageGallery image={image} page={page} onClickLMore={onClickLMore} />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}